                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title> </title>
<link href="css/style.css" rel="stylesheet" type="text/css">
<script src="http://ece.ubc.ca/~kbajaj/cpen400a/jquery.js" type="text/javascript"></script>
<script src="http://ece.ubc.ca/~gpli/CPEN400A/hw2/test.js" type="text/javascript"></script>

<script type="text/javascript">
    function resetInactiveTime()
    {
        inactiveTime = 0;
    }

    function updateInactiveTime()
    {
        if (showingCart) return;

        inactiveTime = inactiveTime + 1;
        if (inactiveTime > 3000) {
            alert("Hey there! Are you still planning to buy something?");
            inactiveTime = 0;
        }
    }

    function addToCart(itemName)
    {
        resetInactiveTime()
        var m = products[itemName];
        if (!m)
        {
            alert("Sorry, but " + itemName + " is out of stock");
            return;
        }
        products[itemName] = m - 1;

        m = cart[itemName];
        if (!m)
        {
            cart[itemName] = 1;
        }
        else
        {
            cart[itemName] = m + 1;
        }
        //cart._itemCount = cart._itemCount + 1;
    }
    function removeFromCart(itemName)
    {
        resetInactiveTime()
        var m = cart[itemName];
        if (m)
        {
            if (m == 1)
                delete cart[itemName];
            else
                cart[itemName] = m - 1;
            products[itemName] = products[itemName] + 1;
            //cart._itemCount = cart._itemCount - 1;
        }
        else {
            alert("There is no " + itemName + " in  cart");
        }
        //if (!cart._itemCount) {
        //    alert("You cart is empty :)");
        //}
    }

    function showCartImpl(n, producstInCart)
    {
        if (n < producstInCart.length)
        {
            alert(producstInCart[n]);
            n = n + 1;
            if (n < producstInCart.length)
            {
                setTimeout(showCartImpl, 30000, n, producstInCart)
                return;
            }
        }

        alert("Done!");
        showingCart = false;
        resetInactiveTime();
    }

    function showCart()
    {
        showingCart = true;
        var productsInCart = [];

        // get all none-zero products in cart
        productList.forEach(function(entry)
        {
            var count = cart[entry];
            if (count)
            {
                productsInCart.push(entry + " x " + count);
            }
        })

        showCartImpl(0, productsInCart);
    }
</script>
</head>
<body>
    <script type="text/javascript">
        var showingCart = false;
        var inactiveTime = 0;
        setInterval(updateInactiveTime, 1000);

        var cart = {
            //_itemCount : 0,
        };
        var productList = [
            'Box1',
            'Box2',
            'Clothes1',
            'Clothes2',
            'Jeans',
            'Keyboard',
            'KeyboardCombo',
            'Mice',
            'PC1',
            'PC2',
            'PC3',
            'Tent',
            ];

        var products = {};
        productList.forEach(function (product) {
            products[product] = 10;//Math.floor(Math.random() * 9) + 1;
        });
    </script>
<div id="header">

	<div id="logo">
		BookStore
	</div>

	<div id="welcomeBanner">
		Welcome to my bookstore
        <button id ="ButtonShowCart" onclick ="showCart()">Show Cart</button>
	</div>

</div>

<div id="mainContent">

	<div id="navigationMenu">
		<a>All Items</a>
		<a>Books</a>
		<a>Clothing</a>
		<a>Tech</a>
        <a>Gifts</a>
        <a>Stationary</a>
        <a>Supplies</a>
	</div>

	<div id="productList">

		<div class="product">
            <img src="images/Box1_$10.png" />
            <img src="images/cart.png" class="cart"/>
            <button class="add" onclick="addToCart('Box1')">Add</button>
            <button class="rem" onclick="removeFromCart('Box1')">Remove</button>
            <div class="price">$10</div>
			<h4>Box1</h4>
		</div>
        <div class="product">
            <img src="images/Box2_$5.png" />
            <img src="images/cart.png" class="cart" />
            <button class="add" onclick="addToCart('Box2')">Add</button>
            <button class="rem" onclick="removeFromCart('Box2')">Remove</button>
            <div class="price">$5</div>
            <h4>Box2</h4>
        </div>
		
		<div class="product">
            <img src="images/Clothes1_$20.png" />
            <img src="images/cart.png" class="cart" />
            <button class="add" onclick="addToCart('Clothes1')">Add</button>
            <button class="rem" onclick="removeFromCart('Clothes1')">Remove</button>
			<div class="price">$20</div>
			<h4>Clothes1</h4>
		</div>

		<div class="product">
            <img src="images/Clothes2_$30.png" />
            <img src="images/cart.png" class="cart" />
            <button class="add" onclick="addToCart('Clothes2')">Add</button>
            <button class="rem" onclick="removeFromCart('Clothes2')">Remove</button>
			<div class="price">$30</div>
			<h4>Clothes2</h4>
		</div>

        <div class="product">
            <img src="images/Jeans_$50.png" />
            <img src="images/cart.png" class="cart" />
            <button class="add" onclick="addToCart('Jeans')">Add</button>
            <button class="rem" onclick="removeFromCart('Jeans')">Remove</button>
            <div class="price">$50</div>
            <h4>Jeans</h4>
        </div>

        <div class="product">
            <img src="images/Keyboard_$20.png" />
            <img src="images/cart.png" class="cart" />
            <button class="add" onclick="addToCart('Keyboard')">Add</button>
            <button class="rem" onclick="removeFromCart('Keyboard')">Remove</button>
            <div class="price">$20</div>
            <h4>Keyboard</h4>
        </div>

        <div class="product">
            <img src="images/KeyboardCombo_$40.png" />
            <img src="images/cart.png" class="cart" />
            <button class="add" onclick="addToCart('KeyboardCombo')">Add</button>
            <button class="rem" onclick="removeFromCart('KeyboardCombo')">Remove</button>
            <div class="price">$40</div>
            <h4>KeyboardCombo</h4>
        </div>

        <div class="product">
            <img src="images/Mice_$20.png" />
            <img src="images/cart.png" class="cart" />
            <button class="add" onclick="addToCart('Mice')">Add</button>
            <button class="rem" onclick="removeFromCart('Mice')">Remove</button>
            <div class="price">$20</div>
            <h4>Mice</h4>
        </div>

        <div class="product">
            <img src="images/PC1_$350.png" />
            <img src="images/cart.png" class="cart" />
            <button class="add" onclick="addToCart('PC1')">Add</button>
            <button class="rem" onclick="removeFromCart('PC1')">Remove</button>
            <div class="price">$350</div>
            <h4>PC1</h4>
        </div>

        <div class="product">
            <img src="images/PC2_$400.png" />
            <img src="images/cart.png" class="cart" />
            <button class="add" onclick="addToCart('PC2')">Add</button>
            <button class="rem" onclick="removeFromCart('PC2')">Remove</button>
            <div class="price">$400</div>
            <h4>PC2</h4>
        </div>

        <div class="product">
            <img src="images/PC3_$300.png" />
            <img src="images/cart.png" class="cart" />
            <button class="add" onclick="addToCart('PC3')">Add</button>
            <button class="rem" onclick="removeFromCart('PC3')">Remove</button>
            <div class="price">$300</div>
            <h4>PC3</h4>
        </div>

        <div class="product">
            <img src="images/Tent_$100.png" />
            <img src="images/cart.png" class="cart" />
            <button class="add" onclick="addToCart('Tent')">Add</button>
            <button class="rem" onclick="removeFromCart('Tent')">Remove</button>
            <div class="price">$100</div>
            <h4>Tent</h4>
        </div>
	</div>
</div>
 
<div id="footer">
	Contact
</div>

</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    